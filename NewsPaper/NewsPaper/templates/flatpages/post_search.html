{% extends 'flatpages/default.html' %}

{% load filters %}

{% block title %} Search page {% endblock title %}

{% block content %}

<h3>Search</h3>
<form method="GET">
    {{ filter.form }}
    <input type="submit" value="Find">
</form>
{% if filter.qs %}
<table>
    <tr>
        <td>
            Title
        </td>
        <td>
            Date of publication
        </td>
        <td>
            Text
        </td>
    </tr>
    {% for new in filter.qs %}
    <tr>
        <td>
            {{ new.title }}
        </td>
        <td>
            {{ new.time_created.day }} / {{ new.time_created.month }} / {{ new.time_created.year }}
        </td>
        <td>
            {% with text=new.text|truncatechars:50 %}
            {{ new.text|censor }}
            {% endwith %}
        </td>
    </tr>
    {% endfor %}
</table>
{% else %}
    <br>
    <h3>Does not match with anything</h3>
{% endif %}

{% endblock content %}